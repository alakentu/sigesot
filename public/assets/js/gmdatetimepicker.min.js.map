{"version":3,"file":"gmdatetimepicker.min.js","sources":["gmdatetimepicker.js"],"sourcesContent":["/*!\r\n * gmDateTimePicker\r\n *\r\n * Author: Gonzalo R. Meneses A\r\n * http://github.com/alakentu\r\n * \r\n * Based on the work T00rk\r\n * https://github.com/T00rk\r\n *\r\n * Copyright 2021 Gonzalo R. Meneses A (https://github.com/alakentu)\r\n * Licensed under MIT (https://github.com/alakentu/gmDateTimePicker/LICENSE)\r\n */\r\n(function (factory) {\r\n    'use strict';\r\n    if (typeof define === 'function' && define.amd) {\r\n        // AMD is used - Register as an anonymous module.\r\n        define(['jquery', 'moment'], factory);\r\n    } else if (typeof exports === 'object') {\r\n        module.exports = factory(require('jquery'), require('moment'));\r\n    } else {\r\n        // Neither AMD nor CommonJS used. Use global variables.\r\n        if (typeof jQuery === 'undefined') {\r\n            throw 'gmDateTimePicker requires jQuery to be loaded first';\r\n        }\r\n        if (typeof moment === 'undefined') {\r\n            throw 'gmDateTimePicker requires Moment.js to be loaded first';\r\n        }\r\n        factory(jQuery, moment);\r\n    }\r\n}(function ($, moment) {\r\n    'use strict';\r\n    if (!moment) {\r\n        throw new Error('gmDateTimePicker requires Moment.js to be loaded first');\r\n    }\r\n\r\n\tvar pluginName = \"gmDateTimePicker\",\r\n\t\tpluginDataName = \"plugin_\" + pluginName;\r\n\r\n\tmoment.locale(\"es\");\r\n\r\n\tfunction Plugin(element, options) {\r\n\t\tthis.currentView = 0;\r\n\t\r\n\t\tthis.minDate;\r\n\t\tthis.maxDate;\r\n\t\r\n\t\tthis._attachedEvents = [];\r\n\t\r\n\t\tthis.element = element;\r\n\t\tthis.$element = $(element);\r\n\t\r\n\t\tthis.params = {\r\n\t\t\tdate: true,\r\n\t\t\ttime: true,\r\n\t\t\tformat: \"DD-MM-YYYY\",\r\n\t\t\tminDate: null,\r\n\t\t\tmaxDate: null,\r\n\t\t\tcurrentDate: null,\r\n\t\t\tlang: \"es\",\r\n\t\t\tweekStart: 0,\r\n\t\t\tdisabledDays: [],\r\n\t\t\tshortTime: false,\r\n\t\t\tclearButton: false,\r\n\t\t\tnowButton: false,\r\n\t\t\tcancelText: \"Cancelar\",\r\n\t\t\tokText: \"OK\",\r\n\t\t\tclearText: \"Limpiar\",\r\n\t\t\tnowText: \"Hoy\",\r\n\t\t\tswitchOnClick: true,\r\n\t\t\ttriggerEvent: \"focus\",\r\n\t\t\tmonthPicker: false,\r\n\t\t\tyear: true\r\n\t\t};\r\n\t\t\r\n\t\tthis.params = $.fn.extend(this.params, options);\r\n\t\r\n\t\tthis.name = \"dtp_\" + this.setName();\r\n\t\tthis.$element.attr(\"data-dtp\", this.name);\r\n\t\r\n\t\tmoment.locale(this.params.lang);\r\n\t\r\n\t\tthis.init();\r\n\t}\r\n\r\n\t$.fn[pluginName] = function(options, p) {\r\n\t\tthis.each(function() {\r\n\t\t\tif (!$.data(this, pluginDataName)) {\r\n\t\t\t\t$.data(this, pluginDataName, new Plugin(this, options));\r\n\t\t\t} else {\r\n\t\t\t\tif (typeof $.data(this, pluginDataName)[options] === \"function\") {\r\n\t\t\t\t\t$.data(this, pluginDataName)[options](p);\r\n\t\t\t\t}\r\n\t\t\t\tif (options === \"destroy\") {\r\n\t\t\t\t\tdelete $.data(this, pluginDataName);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t});\r\n\t\treturn this;\r\n\t};\r\n\r\n\tPlugin.prototype = {\r\n\t\tinit: function() {\r\n\t\t\tthis.initDays();\r\n\t\t\tthis.initDates();\r\n\t\t\r\n\t\t\tthis.initTemplate();\r\n\t\t\r\n\t\t\tthis.initButtons();\r\n\t\t\r\n\t\t\tthis._attachEvent($(window), \"resize\", this._centerBox.bind(this));\r\n\t\t\tthis._attachEvent(this.$dtpElement.find(\".dtp-content\"), \"click\", this._onElementClick.bind(this));\r\n\t\t\tthis._attachEvent(this.$dtpElement, \"click\", this._onBackgroundClick.bind(this));\r\n\t\t\tthis._attachEvent(this.$element, this.params.triggerEvent, this._fireCalendar.bind(this));\r\n\t\t},\r\n\t\tinitDays: function() {\r\n\t\t\tthis.days = [];\r\n\t\t\tfor (var i = this.params.weekStart; this.days.length < 7; i++) {\r\n\t\t\t\tif (i > 6) {\r\n\t\t\t\t\ti = 0;\r\n\t\t\t\t}\r\n\t\t\t\tthis.days.push(i.toString());\r\n\t\t\t}\r\n\t\t},\r\n\t\tinitDates: function() {\r\n\t\t\tif (this.$element.val().length > 0) {\r\n\t\t\t\tif (typeof this.params.format !== \"undefined\" && this.params.format !== null) {\r\n\t\t\t\t\tthis.currentDate = moment(this.$element.val(), this.params.format).locale(this.params.lang);\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis.currentDate = moment(this.$element.val()).locale(this.params.lang);\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\tif (typeof this.$element.attr(\"value\") !== \"undefined\" && this.$element.attr(\"value\") !== null && this.$element.attr(\"value\") !== \"\") {\r\n\t\t\t\t\tif (typeof this.$element.attr(\"value\") === \"string\") {\r\n\t\t\t\t\t\tif (typeof this.params.format !== \"undefined\" && this.params.format !== null) {\r\n\t\t\t\t\t\t\tthis.currentDate = moment(this.$element.attr(\"value\"), this.params.format).locale(this.params.lang);\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tthis.currentDate = moment(this.$element.attr(\"value\")).locale(this.params.lang);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t} else {\r\n\t\t\t\t\tif (typeof this.params.currentDate !== \"undefined\" && this.params.currentDate !== null) {\r\n\t\t\t\t\t\tif (typeof this.params.currentDate === \"string\") {\r\n\t\t\t\t\t\t\tif (typeof this.params.format !== \"undefined\" && this.params.format !== null) {\r\n\t\t\t\t\t\t\t\tthis.currentDate = moment(this.params.currentDate, this.params.format).locale(this.params.lang);\r\n\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\tthis.currentDate = moment(this.params.currentDate).locale(this.params.lang);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tif (typeof this.params.currentDate.isValid === \"undefined\" || typeof this.params.currentDate.isValid !== \"function\") {\r\n\t\t\t\t\t\t\t\tvar x = this.params.currentDate.getTime();\r\n\t\t\t\t\t\t\t\tthis.currentDate = moment(x, \"x\").locale(this.params.lang);\r\n\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\tthis.currentDate = this.params.currentDate;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tthis.$element.val(this.currentDate.format(this.params.format));\r\n\t\t\t\t\t} else this.currentDate = moment();\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\r\n\t\t\tif (typeof this.params.minDate !== \"undefined\" && this.params.minDate !== null) {\r\n\t\t\t\tif (typeof this.params.minDate === \"string\") {\r\n\t\t\t\t\tif (typeof this.params.format !== \"undefined\" && this.params.format !== null) {\r\n\t\t\t\t\t\tthis.minDate = moment(this.params.minDate, this.params.format).locale(this.params.lang);\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tthis.minDate = moment(this.params.minDate).locale(this.params.lang);\r\n\t\t\t\t\t}\r\n\t\t\t\t} else {\r\n\t\t\t\t\tif (typeof this.params.minDate.isValid === \"undefined\" || typeof this.params.minDate.isValid !== \"function\") {\r\n\t\t\t\t\t\tvar x = this.params.minDate.getTime();\r\n\t\t\t\t\t\tthis.minDate = moment(x, \"x\").locale(this.params.lang);\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tthis.minDate = this.params.minDate;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t} else if (this.params.minDate === null) {\r\n\t\t\t\tthis.minDate = null;\r\n\t\t\t}\r\n\t\t\r\n\t\t\tif (typeof this.params.maxDate !== \"undefined\" && this.params.maxDate !== null) {\r\n\t\t\t\tif (typeof this.params.maxDate === \"string\") {\r\n\t\t\t\t\tif (typeof this.params.format !== \"undefined\" && this.params.format !== null) {\r\n\t\t\t\t\t\tthis.maxDate = moment(this.params.maxDate, this.params.format).locale(this.params.lang);\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tthis.maxDate = moment(this.params.maxDate).locale(this.params.lang);\r\n\t\t\t\t\t}\r\n\t\t\t\t} else {\r\n\t\t\t\t\tif (typeof this.params.maxDate.isValid === \"undefined\" || typeof this.params.maxDate.isValid !== \"function\") {\r\n\t\t\t\t\t\tvar x = this.params.maxDate.getTime();\r\n\t\t\t\t\t\tthis.maxDate = moment(x, \"x\").locale(this.params.lang);\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tthis.maxDate = this.params.maxDate;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t} else if (this.params.maxDate === null) {\r\n\t\t\t\tthis.maxDate = null;\r\n\t\t\t}\r\n\t\t\r\n\t\t\tif (!this.isAfterMinDate(this.currentDate)) {\r\n\t\t\t\tthis.currentDate = moment(this.minDate);\r\n\t\t\t}\r\n\t\t\tif (!this.isBeforeMaxDate(this.currentDate)) {\r\n\t\t\t\tthis.currentDate = moment(this.maxDate);\r\n\t\t\t}\r\n\t\t},\r\n\t\tinitTemplate: function() {\r\n\t\t\tvar yearPicker = \"\",\r\n\t\t\t\ty = this.currentDate.year();\r\n\t\t\t\t\r\n\t\t\tfor (var i = y - 3; i < y + 4; i++) {\r\n\t\t\t\tyearPicker += '<div class=\"year-picker-item\" data-year=\"' + i + '\">' + i + \"</div>\";\r\n\t\t\t}\r\n\t\t\tthis.midYear = y;\r\n\t\t\tvar yearHtml =\r\n\t\t\t\t'<div class=\"dtp-picker-year d-none\" >' +\r\n\t\t\t\t'<div><div class=\"d-grid gap-2\"><a href=\"javascript:void(0);\" class=\"btn btn-sm btn-outline-dark dtp-select-year-range before m-0\"><i class=\"fa-solid fa-angle-up\"></i></a></div></div>' +\r\n\t\t\t\tyearPicker +\r\n\t\t\t\t'<div><div class=\"d-grid gap-2\"><a href=\"javascript:void(0);\" class=\"btn btn-sm btn-outline-dark dtp-select-year-range after m-0\"><i class=\"fa-solid fa-angle-down\"></i></a></div></div>' +\r\n\t\t\t\t\"</div>\";\r\n\t\t\r\n\t\t\tthis.template = \r\n\t\t\t\t'<div class=\"dtp d-none\" id=\"' + \r\n\t\t\t\tthis.name + \r\n\t\t\t\t'\">' +\r\n\t\t\t\t'<div class=\"dtp-content\">' +\r\n\t\t\t\t'<div class=\"dtp-date-view\">' +\r\n\t\t\t\t'<header class=\"dtp-header\">' +\r\n\t\t\t\t'<div class=\"dtp-actual-day\">Monday</div>' +\r\n\t\t\t\t\"</header>\" +\r\n\t\t\t\t'<div class=\"dtp-date d-none\">' +\r\n\t\t\t\t\"<div>\" +\r\n\t\t\t\t'<div class=\"left center p10\">' +\r\n\t\t\t\t'<a href=\"javascript:void(0);\" class=\"dtp-select-month-before\"><i class=\"fa-solid fa-chevron-left\"></i></a>' +\r\n\t\t\t\t\"</div>\" +\r\n\t\t\t\t'<div class=\"dtp-actual-month p80\">MAR</div>' +\r\n\t\t\t\t'<div class=\"right center p10\">' +\r\n\t\t\t\t'<a href=\"javascript:void(0);\" class=\"dtp-select-month-after\"><i class=\"fa-solid fa-chevron-right\"></i></a>' +\r\n\t\t\t\t\"</div>\" +\r\n\t\t\t\t'<div class=\"clearfix\"></div>' +\r\n\t\t\t\t\"</div>\" +\r\n\t\t\t\t'<div class=\"dtp-actual-num\">13</div>' +\r\n\t\t\t\t\"<div>\" +\r\n\t\t\t\t'<div class=\"left center p10\">' +\r\n\t\t\t\t'<a href=\"javascript:void(0);\" class=\"dtp-select-year-before\"><i class=\"fa-solid fa-chevron-left\"></i></a>' +\r\n\t\t\t\t\"</div>\" +\r\n\t\t\t\t'<div class=\"dtp-actual-year p80' +\r\n\t\t\t\t(this.params.year ? \"\" : \" disabled\") +\r\n\t\t\t\t'\">2018</div>' +\r\n\t\t\t\t'<div class=\"right center p10\">' +\r\n\t\t\t\t'<a href=\"javascript:void(0);\" class=\"dtp-select-year-after\"><i class=\"fa-solid fa-chevron-right\"></i></a>' +\r\n\t\t\t\t\"</div>\" +\r\n\t\t\t\t'<div class=\"clearfix\"></div>' +\r\n\t\t\t\t\"</div>\" +\r\n\t\t\t\t\"</div>\" +\r\n\t\t\t\t'<div class=\"dtp-time d-none\">' +\r\n\t\t\t\t'<div class=\"dtp-actual-maxtime\">23:55</div>' +\r\n\t\t\t\t\"</div>\" +\r\n\t\t\t\t'<div class=\"dtp-picker\">' +\r\n\t\t\t\t'<div class=\"dtp-picker-calendar\"></div>' +\r\n\t\t\t\t'<div class=\"dtp-picker-datetime d-none\">' +\r\n\t\t\t\t'<div class=\"dtp-actual-meridien\">' +\r\n\t\t\t\t'<div class=\"left p20\">' +\r\n\t\t\t\t'<a class=\"dtp-meridien-am\" href=\"javascript:void(0);\">AM</a>' +\r\n\t\t\t\t\"</div>\" +\r\n\t\t\t\t'<div class=\"dtp-actual-time p60\"></div>' +\r\n\t\t\t\t'<div class=\"right p20\">' +\r\n\t\t\t\t'<a class=\"dtp-meridien-pm\" href=\"javascript:void(0);\">PM</a>' +\r\n\t\t\t\t\"</div>\" +\r\n\t\t\t\t'<div class=\"clearfix\"></div>' +\r\n\t\t\t\t\"</div>\" +\r\n\t\t\t\t'<div id=\"dtp-svg-clock\">' +\r\n\t\t\t\t\"</div>\" +\r\n\t\t\t\t\"</div>\" +\r\n\t\t\t\tyearHtml +\r\n\t\t\t\t\"</div>\" +\r\n\t\t\t\t\"</div>\" +\r\n\t\t\t\t'<div class=\"dtp-buttons\">' +\r\n\t\t\t\t'<button class=\"dtp-btn-now btn btn-sm btn-outline-primary d-none\">' +\r\n\t\t\t\tthis.params.nowText +\r\n\t\t\t\t\"</button>\" +\r\n\t\t\t\t'<button class=\"dtp-btn-clear btn btn-sm btn-outline-primary d-none\">' +\r\n\t\t\t\tthis.params.clearText +\r\n\t\t\t\t\"</button>\" +\r\n\t\t\t\t'<button class=\"dtp-btn-cancel btn btn-sm btn-outline-primary\">' +\r\n\t\t\t\tthis.params.cancelText +\r\n\t\t\t\t\"</button>\" +\r\n\t\t\t\t'<button class=\"dtp-btn-ok btn btn-sm btn-outline-primary\">' +\r\n\t\t\t\tthis.params.okText +\r\n\t\t\t\t\"</button>\" +\r\n\t\t\t\t'<div class=\"clearfix\"></div>' +\r\n\t\t\t\t\"</div>\" +\r\n\t\t\t\t\"</div>\" +\r\n\t\t\t\t\"</div>\";\r\n\t\t\r\n\t\t\tif ($(\"body\").find(\"#\" + this.name).length <= 0) {\r\n\t\t\t\t$(\"body\").append(this.template);\r\n\t\t\r\n\t\t\t\tif (this) this.dtpElement = $(\"body\").find(\"#\" + this.name);\r\n\t\t\t\tthis.$dtpElement = $(this.dtpElement);\r\n\t\t\t}\r\n\t\t},\r\n\t\tinitButtons: function() {\r\n\t\t\tthis._attachEvent(this.$dtpElement.find(\".dtp-btn-cancel\"), \"click\", this._onCancelClick.bind(this));\r\n\t\t\tthis._attachEvent(this.$dtpElement.find(\".dtp-btn-ok\"), \"click\", this._onOKClick.bind(this));\r\n\t\t\tthis._attachEvent(this.$dtpElement.find(\"a.dtp-select-month-before\"), \"click\", this._onMonthBeforeClick.bind(this));\r\n\t\t\tthis._attachEvent(this.$dtpElement.find(\"a.dtp-select-month-after\"), \"click\", this._onMonthAfterClick.bind(this));\r\n\t\t\tthis._attachEvent(this.$dtpElement.find(\"a.dtp-select-year-before\"), \"click\", this._onYearBeforeClick.bind(this));\r\n\t\t\tthis._attachEvent(this.$dtpElement.find(\"a.dtp-select-year-after\"), \"click\", this._onYearAfterClick.bind(this));\r\n\t\t\t\r\n\t\t\tthis._attachEvent(this.$dtpElement.find(\".dtp-actual-year\"), \"click\", this._onActualYearClick.bind(this));\r\n\t\t\tthis._attachEvent(this.$dtpElement.find(\"a.dtp-select-year-range.before\"), \"click\", this._onYearRangeBeforeClick.bind(this));\r\n\t\t\tthis._attachEvent(this.$dtpElement.find(\"a.dtp-select-year-range.after\"), \"click\", this._onYearRangeAfterClick.bind(this));\r\n\t\t\tthis._attachEvent(this.$dtpElement.find(\"div.year-picker-item\"), \"click\", this._onYearItemClick.bind(this));\r\n\t\t\r\n\t\t\tif (this.params.clearButton === true) {\r\n\t\t\t\tthis._attachEvent(this.$dtpElement.find(\".dtp-btn-clear\"), \"click\", this._onClearClick.bind(this));\r\n\t\t\t\tthis.$dtpElement.find(\".dtp-btn-clear\").removeClass(\"d-none\");\r\n\t\t\t}\r\n\t\t\r\n\t\t\tif (this.params.nowButton === true) {\r\n\t\t\t\tthis._attachEvent(this.$dtpElement.find(\".dtp-btn-now\"), \"click\", this._onNowClick.bind(this));\r\n\t\t\t\tthis.$dtpElement.find(\".dtp-btn-now\").removeClass(\"d-none\");\r\n\t\t\t}\r\n\t\t\r\n\t\t\tif (this.params.nowButton === true && this.params.clearButton === true) {\r\n\t\t\t\tthis.$dtpElement.find(\".dtp-btn-clear, .dtp-btn-now, .dtp-btn-cancel, .dtp-btn-ok\").addClass(\"btn-sm\");\r\n\t\t\t} else if (\r\n\t\t\t\tthis.params.nowButton === true || this.params.clearButton === true\r\n\t\t\t) {\r\n\t\t\t\tthis.$dtpElement.find(\".dtp-btn-clear, .dtp-btn-now, .dtp-btn-cancel, .dtp-btn-ok\").addClass(\"btn-sm\");\r\n\t\t\t}\r\n\t\t},\r\n\t\tinitMeridienButtons: function() {\r\n\t\t\tthis.$dtpElement.find(\"a.dtp-meridien-am\").off(\"click\").on(\"click\", this._onSelectAM.bind(this));\r\n\t\t\tthis.$dtpElement.find(\"a.dtp-meridien-pm\").off(\"click\").on(\"click\", this._onSelectPM.bind(this));\r\n\t\t},\r\n\t\tinitDate: function(d) {\r\n\t\t\tthis.currentView = 0;\r\n\t\t\r\n\t\t\tif (this.params.monthPicker === false) {\r\n\t\t\t\tthis.$dtpElement.find(\".dtp-picker-calendar\").removeClass(\"d-none\");\r\n\t\t\t}\r\n\t\t\tthis.$dtpElement.find(\".dtp-picker-datetime\").addClass(\"d-none\");\r\n\t\t\tthis.$dtpElement.find(\".dtp-picker-year\").addClass(\"d-none\");\r\n\t\t\r\n\t\t\tvar _date = typeof this.currentDate !== \"undefined\" && this.currentDate !== null ? this.currentDate : null,\r\n\t\t\t\t_calendar = this.generateCalendar(this.currentDate);\r\n\t\t\r\n\t\t\tif (typeof _calendar.week !== \"undefined\" && typeof _calendar.days !== \"undefined\" ) {\r\n\t\t\t\tvar _template = this.constructHTMLCalendar(_date, _calendar);\r\n\t\t\r\n\t\t\t\tthis.$dtpElement.find(\"a.dtp-select-day\").off(\"click\");\r\n\t\t\t\tthis.$dtpElement.find(\".dtp-picker-calendar\").html(_template);\r\n\t\t\r\n\t\t\t\tthis.$dtpElement.find(\"a.dtp-select-day\").on(\"click\", this._onSelectDate.bind(this));\r\n\t\t\r\n\t\t\t\tthis.toggleButtons(_date);\r\n\t\t\t}\r\n\t\t\r\n\t\t\tthis._centerBox();\r\n\t\t\tthis.showDate(_date);\r\n\t\t},\r\n\t\tinitHours: function() {\r\n\t\t\tthis.currentView = 1;\r\n\t\t\r\n\t\t\tthis.showTime(this.currentDate);\r\n\t\t\tthis.initMeridienButtons();\r\n\t\t\r\n\t\t\tif (this.currentDate.hour() < 12) {\r\n\t\t\t\tthis.$dtpElement.find(\"a.dtp-meridien-am\").click();\r\n\t\t\t} else {\r\n\t\t\t\tthis.$dtpElement.find(\"a.dtp-meridien-pm\").click();\r\n\t\t\t}\r\n\t\t\r\n\t\t\tvar hFormat = this.params.shortTime ? \"h\" : \"H\";\r\n\t\t\r\n\t\t\tthis.$dtpElement.find(\".dtp-picker-datetime\").removeClass(\"d-none\");\r\n\t\t\tthis.$dtpElement.find(\".dtp-picker-calendar\").addClass(\"d-none\");\r\n\t\t\tthis.$dtpElement.find(\".dtp-picker-year\").addClass(\"d-none\");\r\n\t\t\r\n\t\t\tvar svgClockElement = this.createSVGClock(true);\r\n\t\t\r\n\t\t\tfor (var i = 0; i < 12; i++) {\r\n\t\t\t\tvar x = -(162 * Math.sin(-Math.PI * 2 * (i / 12))),\r\n\t\t\t\t\ty = -(162 * Math.cos(-Math.PI * 2 * (i / 12))),\r\n\t\t\t\t\tfill = this.currentDate.format(hFormat) == i ? \"var(--primary)\" : \"transparent\",\r\n\t\t\t\t\tcolor = this.currentDate.format(hFormat) == i ? \"var(--white)\" : \"var(--black)\";\r\n\t\t\r\n\t\t\t\tvar svgHourCircle = this.createSVGElement(\"circle\", {\r\n\t\t\t\t\tid: \"h-\" + i,\r\n\t\t\t\t\tclass: \"dtp-select-hour\",\r\n\t\t\t\t\tr: \"30\",\r\n\t\t\t\t\tcx: x,\r\n\t\t\t\t\tcy: y,\r\n\t\t\t\t\tfill: fill,\r\n\t\t\t\t\t\"data-hour\": i\r\n\t\t\t\t});\r\n\t\t\t\t\r\n\t\t\t\tvar svgHourText = this.createSVGElement(\"text\", {\r\n\t\t\t\t\tid: \"th-\" + i,\r\n\t\t\t\t\tclass: \"dtp-select-hour-text\",\r\n\t\t\t\t\t\"text-anchor\": \"middle\",\r\n\t\t\t\t\tstyle: \"cursor:pointer\",\r\n\t\t\t\t\t\"font-weight\": \"normal\",\r\n\t\t\t\t\t\"font-size\": \"20\",\r\n\t\t\t\t\tx: x,\r\n\t\t\t\t\ty: y + 7,\r\n\t\t\t\t\tfill: color,\r\n\t\t\t\t\t\"data-hour\": i\r\n\t\t\t\t});\r\n\t\t\t\t\r\n\t\t\t\tsvgHourText.textContent = i === 0 ? (this.params.shortTime ? 12 : i) : i;\r\n\t\t\r\n\t\t\t\tif (!this.toggleTime(i, true)) {\r\n\t\t\t\t\tsvgHourCircle.className += \" disabled\";\r\n\t\t\t\t\tsvgHourText.className += \" disabled\";\r\n\t\t\t\t\tsvgHourText.setAttribute(\"fill\", \"var(--grey)\");\r\n\t\t\t\t} else {\r\n\t\t\t\t\tsvgHourCircle.addEventListener(\"click\", this._onSelectHour.bind(this));\r\n\t\t\t\t\tsvgHourText.addEventListener(\"click\", this._onSelectHour.bind(this));\r\n\t\t\t\t}\r\n\t\t\r\n\t\t\t\tsvgClockElement.appendChild(svgHourCircle);\r\n\t\t\t\tsvgClockElement.appendChild(svgHourText);\r\n\t\t\t}\r\n\t\t\r\n\t\t\tif (!this.params.shortTime) {\r\n\t\t\t\tfor (var i = 0; i < 12; i++) {\r\n\t\t\t\t\tvar x = -(110 * Math.sin(-Math.PI * 2 * (i / 12))),\r\n\t\t\t\t\t\ty = -(110 * Math.cos(-Math.PI * 2 * (i / 12))),\r\n\t\t\t\t\t\tfill = this.currentDate.format(hFormat) == i + 12 ? \"var(--primary)\" : \"transparent\",\r\n\t\t\t\t\t\tcolor = this.currentDate.format(hFormat) == i + 12 ? \"var(--white)\" : \"rgba(0,0,0,.87)\";\r\n\t\t\t\r\n\t\t\t\t\tvar svgHourCircle = this.createSVGElement(\"circle\", {\r\n\t\t\t\t\t\tid: \"h-\" + (i + 12),\r\n\t\t\t\t\t\tclass: \"dtp-select-hour\",\r\n\t\t\t\t\t\tstyle: \"cursor:pointer\",\r\n\t\t\t\t\t\tr: \"30\",\r\n\t\t\t\t\t\tcx: x,\r\n\t\t\t\t\t\tcy: y,\r\n\t\t\t\t\t\tfill: fill,\r\n\t\t\t\t\t\t\"data-hour\": i + 12\r\n\t\t\t\t\t});\r\n\t\t\t\t\tvar svgHourText = this.createSVGElement(\"text\", {\r\n\t\t\t\t\t\tid: \"th-\" + (i + 12),\r\n\t\t\t\t\t\tclass: \"dtp-select-hour-text\",\r\n\t\t\t\t\t\t\"text-anchor\": \"middle\",\r\n\t\t\t\t\t\tstyle: \"cursor:pointer\",\r\n\t\t\t\t\t\t\"font-weight\": \"normal\",\r\n\t\t\t\t\t\t\"font-size\": \"22\",\r\n\t\t\t\t\t\tx: x,\r\n\t\t\t\t\t\ty: y + 7,\r\n\t\t\t\t\t\tfill: color,\r\n\t\t\t\t\t\t\"data-hour\": i + 12\r\n\t\t\t\t\t});\r\n\t\t\t\t\t\r\n\t\t\t\t\tsvgHourText.textContent = i + 12;\r\n\t\t\t\r\n\t\t\t\t\tif (!this.toggleTime(i + 12, true)) {\r\n\t\t\t\t\t\tsvgHourCircle.className += \" disabled\";\r\n\t\t\t\t\t\tsvgHourText.className += \" disabled\";\r\n\t\t\t\t\t\tsvgHourText.setAttribute(\"fill\", \"var(--grey)\");\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tsvgHourCircle.addEventListener(\"click\", this._onSelectHour.bind(this));\r\n\t\t\t\t\t\tsvgHourText.addEventListener(\"click\", this._onSelectHour.bind(this));\r\n\t\t\t\t\t}\r\n\t\t\t\r\n\t\t\t\t\tsvgClockElement.appendChild(svgHourCircle);\r\n\t\t\t\t\tsvgClockElement.appendChild(svgHourText);\r\n\t\t\t\t}\r\n\t\t\r\n\t\t\t\tthis.$dtpElement.find(\"a.dtp-meridien-am\").addClass(\"d-none\");\r\n\t\t\t\tthis.$dtpElement.find(\"a.dtp-meridien-pm\").addClass(\"d-none\");\r\n\t\t\t}\r\n\t\t\r\n\t\t\tthis._centerBox();\r\n\t\t},\r\n\t\tinitMinutes: function() {\r\n\t\t\tthis.currentView = 2;\r\n\t\t\r\n\t\t\tthis.showTime(this.currentDate);\r\n\t\t\r\n\t\t\tthis.initMeridienButtons();\r\n\t\t\r\n\t\t\tif (this.currentDate.hour() < 12) {\r\n\t\t\t\tthis.$dtpElement.find(\"a.dtp-meridien-am\").click();\r\n\t\t\t} else {\r\n\t\t\t\tthis.$dtpElement.find(\"a.dtp-meridien-pm\").click();\r\n\t\t\t}\r\n\t\t\r\n\t\t\tthis.$dtpElement.find(\".dtp-picker-year\").addClass(\"d-none\");\r\n\t\t\tthis.$dtpElement.find(\".dtp-picker-calendar\").addClass(\"d-none\");\r\n\t\t\tthis.$dtpElement.find(\".dtp-picker-datetime\").removeClass(\"d-none\");\r\n\t\t\r\n\t\t\tvar svgClockElement = this.createSVGClock(false);\r\n\t\t\r\n\t\t\tfor (var i = 0; i < 60; i++) {\r\n\t\t\t\tvar s = i % 5 === 0 ? 162 : 158,\r\n\t\t\t\t\tr = i % 5 === 0 ? 30 : 20,\r\n\t\t\t\t\tx = -(s * Math.sin(-Math.PI * 2 * (i / 60))),\r\n\t\t\t\t\ty = -(s * Math.cos(-Math.PI * 2 * (i / 60))),\r\n\t\t\t\t\tcolor = this.currentDate.format(\"m\") == i ? \"var(--primary)\" : \"transparent\";\r\n\t\t\r\n\t\t\t\tvar svgMinuteCircle = this.createSVGElement(\"circle\", {\r\n\t\t\t\t\tid: \"m-\" + i,\r\n\t\t\t\t\tclass: \"dtp-select-minute\",\r\n\t\t\t\t\tstyle: \"cursor:pointer\",\r\n\t\t\t\t\tr: r,\r\n\t\t\t\t\tcx: x,\r\n\t\t\t\t\tcy: y,\r\n\t\t\t\t\tfill: color,\r\n\t\t\t\t\t\"data-minute\": i\r\n\t\t\t\t});\r\n\t\t\r\n\t\t\t\tif (!this.toggleTime(i, false)) {\r\n\t\t\t\t\tsvgMinuteCircle.className += \" disabled\";\r\n\t\t\t\t} else {\r\n\t\t\t\t\tsvgMinuteCircle.addEventListener(\"click\", this._onSelectMinute.bind(this));\r\n\t\t\t\t}\r\n\t\t\r\n\t\t\t\tsvgClockElement.appendChild(svgMinuteCircle);\r\n\t\t\t}\r\n\t\t\r\n\t\t\tfor (var i = 0; i < 60; i++) {\r\n\t\t\t\tif (i % 5 === 0) {\r\n\t\t\t\t\tvar x = -(162 * Math.sin(-Math.PI * 2 * (i / 60))),\r\n\t\t\t\t\t\ty = -(162 * Math.cos(-Math.PI * 2 * (i / 60))),\r\n\t\t\t\t\t\tcolor = this.currentDate.format(\"m\") == i ? \"var(--white)\" : \"rgba(0,0,0,.87)\";\r\n\t\t\t\t\t\t\r\n\t\t\t\t\tvar svgMinuteText = this.createSVGElement(\"text\", {\r\n\t\t\t\t\t\tid: \"tm-\" + i,\r\n\t\t\t\t\t\tclass: \"dtp-select-minute-text\",\r\n\t\t\t\t\t\t\"text-anchor\": \"middle\",\r\n\t\t\t\t\t\tstyle: \"cursor:pointer\",\r\n\t\t\t\t\t\t\"font-weight\": \"normal\",\r\n\t\t\t\t\t\t\"font-size\": \"20\",\r\n\t\t\t\t\t\tx: x,\r\n\t\t\t\t\t\ty: y + 7,\r\n\t\t\t\t\t\tfill: color,\r\n\t\t\t\t\t\t\"data-minute\": i\r\n\t\t\t\t\t});\r\n\t\t\t\t\tsvgMinuteText.textContent = i;\r\n\t\t\t\r\n\t\t\t\t\tif (!this.toggleTime(i, false)) {\r\n\t\t\t\t\t\tsvgMinuteText.className += \" disabled\";\r\n\t\t\t\t\t\tsvgMinuteText.setAttribute(\"fill\", \"var(--grey)\");\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tsvgMinuteText.addEventListener(\"click\", this._onSelectMinute.bind(this));\r\n\t\t\t\t\t}\r\n\t\t\t\r\n\t\t\t\t\tsvgClockElement.appendChild(svgMinuteText);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\r\n\t\t\tthis._centerBox();\r\n\t\t},\r\n\t\tanimateHands: function() {\r\n\t\t\tvar H = this.currentDate.hour(),\r\n\t\t\t\tM = this.currentDate.minute(),\r\n\t\t\t\thh = this.$dtpElement.find(\".hour-hand\"),\r\n\t\t\t\tmh = this.$dtpElement.find(\".minute-hand\");\r\n\t\t\t\t\r\n\t\t\thh[0].setAttribute(\"transform\", \"rotate(\" + (360 * H) / 12 + \")\");\t\t\t\r\n\t\t\tmh[0].setAttribute(\"transform\", \"rotate(\" + (360 * M) / 60 + \")\");\r\n\t\t},\r\n\t\tcreateSVGClock: function(isHour) {\r\n\t\t\tvar hl = this.params.shortTime ? -120 : -90;\r\n\t\t\r\n\t\t\tvar svgElement = this.createSVGElement(\"svg\", {\r\n\t\t\t\tclass: \"svg-clock\",\r\n\t\t\t\tviewBox: \"0,0,400,400\"\r\n\t\t\t});\r\n\t\t\tvar svgGElement = this.createSVGElement(\"g\", {\r\n\t\t\t\ttransform: \"translate(200,200) \"\r\n\t\t\t});\r\n\t\t\tvar svgClockFace = this.createSVGElement(\"circle\", {\r\n\t\t\t\tr: \"192\",\r\n\t\t\t\tfill: \"var(--light-light)\"\r\n\t\t\t});\r\n\t\t\tvar svgClockCenter = this.createSVGElement(\"circle\", {\r\n\t\t\t\tr: \"4\",\r\n\t\t\t\tfill: \"var(--primary)\"\r\n\t\t\t});\r\n\t\t\r\n\t\t\tsvgGElement.appendChild(svgClockFace);\r\n\t\t\r\n\t\t\tif (isHour) {\r\n\t\t\t\tvar svgMinuteHand = this.createSVGElement(\"line\", {\r\n\t\t\t\t\tclass: \"minute-hand\",\r\n\t\t\t\t\tx1: 0,\r\n\t\t\t\t\ty1: 0,\r\n\t\t\t\t\tx2: 0,\r\n\t\t\t\t\ty2: -150\r\n\t\t\t\t});\r\n\t\t\t\tvar svgHourHand = this.createSVGElement(\"line\", {\r\n\t\t\t\t\tclass: \"hour-hand\",\r\n\t\t\t\t\tx1: 0,\r\n\t\t\t\t\ty1: 0,\r\n\t\t\t\t\tx2: 0,\r\n\t\t\t\t\ty2: hl,\r\n\t\t\t\t\tstroke: \"var(--primary)\",\r\n\t\t\t\t\t\"stroke-width\": 3\r\n\t\t\t\t});\r\n\t\t\r\n\t\t\t\tsvgGElement.appendChild(svgMinuteHand);\r\n\t\t\t\tsvgGElement.appendChild(svgHourHand);\r\n\t\t\t} else {\r\n\t\t\t\tvar svgMinuteHand = this.createSVGElement(\"line\", {\r\n\t\t\t\t\tclass: \"minute-hand\",\r\n\t\t\t\t\tx1: 0,\r\n\t\t\t\t\ty1: 0,\r\n\t\t\t\t\tx2: 0,\r\n\t\t\t\t\ty2: -150,\r\n\t\t\t\t\tstroke: \"var(--primary)\",\r\n\t\t\t\t\t\"stroke-width\": 3\r\n\t\t\t\t});\r\n\t\t\t\tvar svgHourHand = this.createSVGElement(\"line\", {\r\n\t\t\t\t\tclass: \"hour-hand\",\r\n\t\t\t\t\tx1: 0,\r\n\t\t\t\t\ty1: 0,\r\n\t\t\t\t\tx2: 0,\r\n\t\t\t\t\ty2: hl\r\n\t\t\t\t});\r\n\t\t\r\n\t\t\t\tsvgGElement.appendChild(svgHourHand);\r\n\t\t\t\tsvgGElement.appendChild(svgMinuteHand);\r\n\t\t\t}\r\n\t\t\r\n\t\t\tsvgGElement.appendChild(svgClockCenter);\r\n\t\t\r\n\t\t\tsvgElement.appendChild(svgGElement);\r\n\t\t\r\n\t\t\tthis.$dtpElement.find(\"#dtp-svg-clock\").empty();\r\n\t\t\tthis.$dtpElement.find(\"#dtp-svg-clock\")[0].appendChild(svgElement);\r\n\t\t\r\n\t\t\tthis.animateHands();\r\n\t\t\r\n\t\t\treturn svgGElement;\r\n\t\t},\r\n\t\tcreateSVGElement: function(tag, attrs) {\r\n\t\t\tvar el = document.createElementNS(\"http://www.w3.org/2000/svg\", tag);\r\n\t\t\tfor (var k in attrs) {\r\n\t\t\t\tel.setAttribute(k, attrs[k]);\r\n\t\t\t}\r\n\t\t\treturn el;\r\n\t\t},\r\n\t\tisAfterMinDate: function(date, checkHour, checkMinute) {\r\n\t\t\tvar _return = true;\r\n\t\t\r\n\t\t\tif (typeof this.minDate !== \"undefined\" && this.minDate !== null) {\r\n\t\t\t\tvar _minDate = moment(this.minDate),\r\n\t\t\t\t\t_date = moment(date);\r\n\t\t\r\n\t\t\t\tif (!checkHour && !checkMinute) {\r\n\t\t\t\t\t_minDate.hour(0);\r\n\t\t\t\t\t_minDate.minute(0);\r\n\t\t\t\r\n\t\t\t\t\t_date.hour(0);\r\n\t\t\t\t\t_date.minute(0);\r\n\t\t\t\t}\r\n\t\t\r\n\t\t\t\t_minDate.second(0);\r\n\t\t\t\t_date.second(0);\r\n\t\t\t\t_minDate.millisecond(0);\r\n\t\t\t\t_date.millisecond(0);\r\n\t\t\r\n\t\t\t\tif (!checkMinute) {\r\n\t\t\t\t\t_date.minute(0);\r\n\t\t\t\t\t_minDate.minute(0);\r\n\t\t\t\r\n\t\t\t\t\t_return = parseInt(_date.format(\"X\")) >= parseInt(_minDate.format(\"X\"));\r\n\t\t\t\t} else {\r\n\t\t\t\t\t_return = parseInt(_date.format(\"X\")) >= parseInt(_minDate.format(\"X\"));\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\r\n\t\t\treturn _return;\r\n\t\t},\r\n\t\tisBeforeMaxDate: function(date, checkTime, checkMinute) {\r\n\t\t\tvar _return = true;\r\n\t\t\r\n\t\t\tif (typeof this.maxDate !== \"undefined\" && this.maxDate !== null) {\r\n\t\t\t\tvar _maxDate = moment(this.maxDate),\r\n\t\t\t\t\t_date = moment(date);\r\n\t\t\r\n\t\t\t\tif (!checkTime && !checkMinute) {\r\n\t\t\t\t\t_maxDate.hour(0);\r\n\t\t\t\t\t_maxDate.minute(0);\r\n\t\t\t\r\n\t\t\t\t\t_date.hour(0);\r\n\t\t\t\t\t_date.minute(0);\r\n\t\t\t\t}\r\n\t\t\r\n\t\t\t\t_maxDate.second(0);\r\n\t\t\t\t_date.second(0);\r\n\t\t\t\t_maxDate.millisecond(0);\r\n\t\t\t\t_date.millisecond(0);\r\n\t\t\r\n\t\t\t\tif (!checkMinute) {\r\n\t\t\t\t\t_date.minute(0);\r\n\t\t\t\t\t_maxDate.minute(0);\r\n\t\t\t\r\n\t\t\t\t\t_return = parseInt(_date.format(\"X\")) <= parseInt(_maxDate.format(\"X\"));\r\n\t\t\t\t} else {\r\n\t\t\t\t\t_return = parseInt(_date.format(\"X\")) <= parseInt(_maxDate.format(\"X\"));\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\r\n\t\t\treturn _return;\r\n\t\t},\r\n\t\trotateElement: function(el, deg) {\r\n\t\t\t$(el).css({\r\n\t\t\t\tWebkitTransform: \"rotate(\" + deg + \"deg)\",\r\n\t\t\t\t\"-moz-transform\": \"rotate(\" + deg + \"deg)\"\r\n\t\t\t});\r\n\t\t},\r\n\t\tshowDate: function(date) {\r\n\t\t\tif (date) {\r\n\t\t\t\tthis.$dtpElement.find(\".dtp-actual-day\").html(date.locale(this.params.lang).format(\"dddd\"));\r\n\t\t\t\tthis.$dtpElement.find(\".dtp-actual-month\").html(date.locale(this.params.lang).format(\"MMM\").toUpperCase());\r\n\t\t\t\tthis.$dtpElement.find(\".dtp-actual-num\").html(date.locale(this.params.lang).format(\"DD\"));\r\n\t\t\t\tthis.$dtpElement.find(\".dtp-actual-year\").html(date.locale(this.params.lang).format(\"YYYY\"));\r\n\t\t\t}\r\n\t\t},\r\n\t\tshowTime: function(date) {\r\n\t\t\tif (date) {\r\n\t\t\t\tvar minutes = date.minute(),\r\n\t\t\t\t\tcontent = (this.params.shortTime ? date.format(\"hh\") : date.format(\"HH\")) + \r\n\t\t\t\t\t\t\":\" + \r\n\t\t\t\t\t\t(minutes.toString().length == 2 ? minutes : \"0\" + minutes) + \r\n\t\t\t\t\t\t(this.params.shortTime ? \" \" + date.format(\"A\") : \"\");\r\n\t\t\r\n\t\t\t\tif (this.params.date) {\r\n\t\t\t\t\t// todo\r\n\t\t\t\t\tthis.$dtpElement.find(\".dtp-actual-time\").html(content);\r\n\t\t\t\t} else {\r\n\t\t\t\t\tif (this.params.shortTime)\r\n\t\t\t\t\t\tthis.$dtpElement.find(\".dtp-actual-day\").html(\"\");\r\n\t\t\t\t\telse\r\n\t\t\t\t\t\tthis.$dtpElement.find(\".dtp-actual-day\").html(\"&nbsp;\");\r\n\t\t\t\r\n\t\t\t\t\tthis.$dtpElement.find(\".dtp-actual-maxtime\").html(content);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\t\tselectDate: function(date) {\r\n\t\t\tif (date) {\r\n\t\t\t\tthis.currentDate.date(date);\r\n\t\t\r\n\t\t\t\tthis.showDate(this.currentDate);\r\n\t\t\t\tthis.$element.trigger(\"dateSelected\", this.currentDate);\r\n\t\t\t}\r\n\t\t},\r\n\t\tgenerateCalendar: function(date) {\r\n\t\t\tvar _calendar = {};\r\n\t\t\r\n\t\t\tif (date !== null) {\r\n\t\t\t\tvar startOfMonth = moment(date).locale(this.params.lang).startOf(\"month\"),\r\n\t\t\t\t\tendOfMonth = moment(date).locale(this.params.lang).endOf(\"month\"),\r\n\t\t\t\t\tiNumDay = startOfMonth.format(\"d\");\r\n\t\t\r\n\t\t\t\t_calendar.week = this.days;\r\n\t\t\t\t_calendar.days = [];\r\n\t\t\r\n\t\t\t\tfor (var i = startOfMonth.date(); i <= endOfMonth.date(); i++) {\r\n\t\t\t\t\tif (i === startOfMonth.date()) {\r\n\t\t\t\t\t\tvar iWeek = _calendar.week.indexOf(iNumDay.toString());\r\n\t\t\t\t\t\tif (iWeek > 0) {\r\n\t\t\t\t\t\t\tfor (var x = 0; x < iWeek; x++) {\r\n\t\t\t\t\t\t\t\t_calendar.days.push(0);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\t_calendar.days.push(\r\n\t\t\t\t\t\tmoment(startOfMonth)\r\n\t\t\t\t\t\t.locale(this.params.lang)\r\n\t\t\t\t\t\t.date(i)\r\n\t\t\t\t\t);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\r\n\t\t\treturn _calendar;\r\n\t\t},\r\n\t\tconstructHTMLCalendar: function(date, calendar) {\r\n\t\t\tvar _template = \"\";\r\n\t\t\r\n\t\t\t_template += '<div class=\"dtp-picker-month\">' + date.locale(this.params.lang).format(\"MMMM YYYY\") + \"</div>\";\r\n\t\t\t_template += '<div class=\"dtp-view\" tabindex=\"0\">';\r\n\t\t\t_template += '<table class=\"table dtp-picker-days\"><thead>';\r\n\t\t\t\r\n\t\t\tfor (var i = 0; i < calendar.week.length; i++) {\r\n\t\t\t\t_template += \"<th>\" + moment(parseInt(calendar.week[i]), \"d\").locale(this.params.lang).format(\"dd\").substring(0, 1) + \"</th>\";\r\n\t\t\t}\r\n\t\t\r\n\t\t\t_template += \"</thead>\";\r\n\t\t\t_template += \"<tbody><tr>\";\r\n\t\t\r\n\t\t\tfor (var i = 0; i < calendar.days.length; i++) {\r\n\t\t\t\tif (i % 7 == 0) {\r\n\t\t\t\t\t_template += \"</tr><tr>\";\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\t_template += '<td data-date=\"' + moment(calendar.days[i]).locale(this.params.lang).format(\"D\") + '\">';\r\n\t\t\t\t\r\n\t\t\t\tif (calendar.days[i] != 0) {\r\n\t\t\t\t\tif (this.isBeforeMaxDate(moment(calendar.days[i]), false, false) === false || this.isAfterMinDate(moment(calendar.days[i]), false, false) === false || this.params.disabledDays.indexOf(calendar.days[i].isoWeekday()) !== -1) {\r\n\t\t\t\t\t\t_template += '<span class=\"dtp-select-day\">' + moment(calendar.days[i]).locale(this.params.lang).format(\"DD\") + \"</span>\";\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tif (moment(calendar.days[i]).locale(this.params.lang).format(\"DD\") === moment(this.currentDate).locale(this.params.lang).format(\"DD\")) {\r\n\t\t\t\t\t\t\t_template += '<a href=\"javascript:void(0);\" class=\"dtp-select-day selected\">' + moment(calendar.days[i]).locale(this.params.lang).format(\"DD\") + \"</a>\";\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t_template += '<a href=\"javascript:void(0);\" class=\"dtp-select-day\">' + moment(calendar.days[i]).locale(this.params.lang).format(\"DD\") + \"</a>\";\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\r\n\t\t\t\t\t_template += \"</td>\";\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t_template += \"</tr></tbody></table></div>\";\r\n\t\t\r\n\t\t\treturn _template;\r\n\t\t},\r\n\t\tsetName: function() {\r\n\t\t\tvar text = \"\",\r\n\t\t\t\tpossible = \"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789\";\r\n\t\t\r\n\t\t\tfor (var i = 0; i < 5; i++) {\r\n\t\t\t\ttext += possible.charAt(Math.floor(Math.random() * possible.length));\r\n\t\t\t}\r\n\t\t\r\n\t\t\treturn text;\r\n\t\t},\r\n\t\tisPM: function() {\r\n\t\t\treturn this.$dtpElement.find(\"a.dtp-meridien-pm\").hasClass(\"selected\");\r\n\t\t},\r\n\t\tsetElementValue: function() {\r\n\t\t\tthis.$element.trigger(\"beforeChange\", this.currentDate);\r\n\t\t\tif (typeof $.material !== \"undefined\") {\r\n\t\t\t\tthis.$element.removeClass(\"empty\");\r\n\t\t\t}\r\n\t\t\tthis.$element.val(moment(this.currentDate).locale(this.params.lang).format(this.params.format));\r\n\t\t\tthis.$element.trigger(\"change\", this.currentDate);\r\n\t\t},\r\n\t\ttoggleButtons: function(date) {\r\n\t\t\tif (date && date.isValid()) {\r\n\t\t\t\tvar startOfMonth = moment(date).locale(this.params.lang).startOf(\"month\"),\r\n\t\t\t\t\tendOfMonth = moment(date).locale(this.params.lang).endOf(\"month\"),\r\n\t\t\t\t\tstartOfYear = moment(date).locale(this.params.lang).startOf(\"year\"),\r\n\t\t\t\t\tendOfYear = moment(date).locale(this.params.lang).endOf(\"year\");\r\n\t\t\r\n\t\t\t\tif (!this.isAfterMinDate(startOfMonth, false, false)) {\r\n\t\t\t\t\tthis.$dtpElement.find(\"a.dtp-select-month-before\").addClass(\"invisible\");\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis.$dtpElement.find(\"a.dtp-select-month-before\").removeClass(\"invisible\");\r\n\t\t\t\t}\r\n\t\t\r\n\t\t\t\tif (!this.isBeforeMaxDate(endOfMonth, false, false)) {\r\n\t\t\t\t\tthis.$dtpElement.find(\"a.dtp-select-month-after\").addClass(\"invisible\");\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis.$dtpElement.find(\"a.dtp-select-month-after\").removeClass(\"invisible\");\r\n\t\t\t\t}\r\n\t\t\r\n\t\t\t\tif (!this.isAfterMinDate(startOfYear, false, false)) {\r\n\t\t\t\t\tthis.$dtpElement.find(\"a.dtp-select-year-before\").addClass(\"invisible\");\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis.$dtpElement.find(\"a.dtp-select-year-before\").removeClass(\"invisible\");\r\n\t\t\t\t}\r\n\t\t\r\n\t\t\t\tif (!this.isBeforeMaxDate(endOfYear, false, false)) {\r\n\t\t\t\t\tthis.$dtpElement.find(\"a.dtp-select-year-after\").addClass(\"invisible\");\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis.$dtpElement.find(\"a.dtp-select-year-after\").removeClass(\"invisible\");\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\t\ttoggleTime: function(value, isHours) {\r\n\t\t\tvar result = false;\r\n\t\t\r\n\t\t\tif (isHours) {\r\n\t\t\t\tvar _date = moment(this.currentDate);\r\n\t\t\t\t_date.hour(this.convertHours(value)).minute(0).second(0);\r\n\t\t\r\n\t\t\t\tresult = !(this.isAfterMinDate(_date, true, false) === false || this.isBeforeMaxDate(_date, true, false) === false);\r\n\t\t\t} else {\r\n\t\t\t\tvar _date = moment(this.currentDate);\r\n\t\t\t\t_date.minute(value).second(0);\r\n\t\t\r\n\t\t\t\tresult = !(this.isAfterMinDate(_date, true, true) === false || this.isBeforeMaxDate(_date, true, true) === false);\r\n\t\t\t}\r\n\t\t\r\n\t\t\treturn result;\r\n\t\t},\r\n\t\t_attachEvent: function(el, ev, fn) {\r\n\t\t\tel.on(ev, null, null, fn);\r\n\t\t\tthis._attachedEvents.push([el, ev, fn]);\r\n\t\t},\r\n\t\t_detachEvents: function() {\r\n\t\t\tfor (var i = this._attachedEvents.length - 1; i >= 0; i--) {\r\n\t\t\t\tthis._attachedEvents[i][0].off(this._attachedEvents[i][1], this._attachedEvents[i][2]);\r\n\t\t\t\tthis._attachedEvents.splice(i, 1);\r\n\t\t\t}\r\n\t\t},\r\n\t\t_fireCalendar: function() {\r\n\t\t\tthis.currentView = 0;\r\n\t\t\tthis.$element.blur();\r\n\t\t\r\n\t\t\tthis.initDates();\r\n\t\t\r\n\t\t\tthis.show();\r\n\t\t\r\n\t\t\tif (this.params.date) {\r\n\t\t\t\tthis.$dtpElement.find(\".dtp-date\").removeClass(\"d-none\");\r\n\t\t\t\tthis.initDate();\r\n\t\t\t} else {\r\n\t\t\t\tif (this.params.time) {\r\n\t\t\t\t\tthis.$dtpElement.find(\".dtp-time\").removeClass(\"d-none\");\r\n\t\t\t\t\tthis.initHours();\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\t\t_onBackgroundClick: function(e) {\r\n\t\t\te.stopPropagation();\r\n\t\t\tthis.hide();\r\n\t\t},\r\n\t\t_onElementClick: function(e) {\r\n\t\t\te.stopPropagation();\r\n\t\t},\r\n\t\t_onKeydown: function(e) {\r\n\t\t\tif (e.which === 27) {\r\n\t\t\t\tthis.hide();\r\n\t\t\t}\r\n\t\t},\r\n\t\t_onCloseClick: function() {\r\n\t\t\tthis.hide();\r\n\t\t\tthis.$dtpElement.find(\".dtp-actual-year\").removeClass(\"text-white\");\r\n\t\t\tthis.$dtpElement.find(\".dtp-actual-month, .dtp-actual-num, .dtp-actual-day\").removeClass(\"text-white-50\");\r\n\t\t},\r\n\t\t_onClearClick: function() {\r\n\t\t\tthis.$dtpElement.find(\".dtp-actual-year\").removeClass(\"text-white\");\r\n\t\t\tthis.$dtpElement.find(\".dtp-actual-month, .dtp-actual-num, .dtp-actual-day\").removeClass(\"text-white-50\");\r\n\t\t\tthis.currentDate = null;\r\n\t\t\tthis.$element.trigger(\"beforeChange\", this.currentDate);\r\n\t\t\tthis.hide();\r\n\t\t\tif (typeof $.material !== \"undefined\") {\r\n\t\t\t\tthis.$element.addClass(\"empty\");\r\n\t\t\t}\r\n\t\t\tthis.$element.val(\"\");\r\n\t\t\tthis.$element.trigger(\"change\", this.currentDate);\r\n\t\t},\r\n\t\t_onNowClick: function() {\r\n\t\t\tthis.$dtpElement.find(\".dtp-actual-year\").removeClass(\"text-white\");\r\n\t\t\tthis.$dtpElement.find(\".dtp-actual-month, .dtp-actual-num, .dtp-actual-day\").removeClass(\"text-white-50\");\r\n\t\t\tthis.currentDate = moment();\r\n\t\t\r\n\t\t\tif (this.params.date === true) {\r\n\t\t\t\tthis.showDate(this.currentDate);\r\n\t\t\r\n\t\t\t\tif (this.currentView === 0) {\r\n\t\t\t\t\tthis.initDate();\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\r\n\t\t\tif (this.params.time === true) {\r\n\t\t\t\tthis.showTime(this.currentDate);\r\n\t\t\r\n\t\t\t\tswitch (this.currentView) {\r\n\t\t\t\t\tcase 1:\r\n\t\t\t\t\t\tthis.initHours();\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase 2:\r\n\t\t\t\t\t\tthis.initMinutes();\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\t\t\r\n\t\t\t\tthis.animateHands();\r\n\t\t\t}\r\n\t\t},\r\n\t\t_onOKClick: function() {\r\n\t\t\tthis.$dtpElement.find(\".dtp-actual-year\").removeClass(\"text-white\");\r\n\t\t\tthis.$dtpElement.find(\".dtp-actual-month, .dtp-actual-num, .dtp-actual-day\").removeClass(\"text-white-50\");\r\n\t\t\tswitch (this.currentView) {\r\n\t\t\t\tcase 0:\r\n\t\t\t\t\tif (this.params.time === true) {\r\n\t\t\t\t\t\tthis.initHours();\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tthis.setElementValue();\r\n\t\t\t\t\t\tthis.hide();\r\n\t\t\t\t\t}\r\n\t\t\t\tbreak;\r\n\t\t\t\tcase 1:\r\n\t\t\t\t\tthis.initMinutes();\r\n\t\t\t\tbreak;\r\n\t\t\t\tcase 2:\r\n\t\t\t\t\tthis.setElementValue();\r\n\t\t\t\t\tthis.hide();\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t},\r\n\t\t_onCancelClick: function() {\r\n\t\t\tthis.$dtpElement.find(\".dtp-actual-year\").removeClass(\"text-white\");\r\n\t\t\tthis.$dtpElement.find(\".dtp-actual-month, .dtp-actual-num, .dtp-actual-day\").removeClass(\"text-white-50\");\r\n\t\t\tif (this.params.time) {\r\n\t\t\t\tswitch (this.currentView) {\r\n\t\t\t\t\tcase 0:\r\n\t\t\t\t\t\tthis.hide();\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase 1:\r\n\t\t\t\t\t\tif (this.params.date) {\r\n\t\t\t\t\t\t\tthis.initDate();\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tthis.hide();\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase 2:\r\n\t\t\t\t\t\tthis.initHours();\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\tthis.hide();\r\n\t\t\t}\r\n\t\t},\r\n\t\t_onMonthBeforeClick: function() {\r\n\t\t\tthis.currentDate.subtract(1, \"months\");\r\n\t\t\tthis.initDate(this.currentDate);\r\n\t\t\tthis._closeYearPicker();\r\n\t\t\tthis.$dtpElement.find(\".dtp-actual-year\").removeClass(\"text-white\");\r\n\t\t\tthis.$dtpElement.find(\".dtp-actual-month, .dtp-actual-num, .dtp-actual-day\").removeClass(\"text-white-50\");\r\n\t\t},\r\n\t\t_onMonthAfterClick: function() {\r\n\t\t\tthis.currentDate.add(1, \"months\");\r\n\t\t\tthis.initDate(this.currentDate);\r\n\t\t\tthis._closeYearPicker();\r\n\t\t\tthis.$dtpElement.find(\".dtp-actual-year\").removeClass(\"text-white\");\r\n\t\t\tthis.$dtpElement.find(\".dtp-actual-month, .dtp-actual-num, .dtp-actual-day\").removeClass(\"text-white-50\");\r\n\t\t},\r\n\t\t_onYearBeforeClick: function() {\r\n\t\t\tthis.currentDate.subtract(1, \"years\");\r\n\t\t\tthis.initDate(this.currentDate);\r\n\t\t\tthis._closeYearPicker();\r\n\t\t\tthis.$dtpElement.find(\".dtp-actual-year\").removeClass(\"text-white\");\r\n\t\t\tthis.$dtpElement.find(\".dtp-actual-month, .dtp-actual-num, .dtp-actual-day\").removeClass(\"text-white-50\");\r\n\t\t},\r\n\t\t_onYearAfterClick: function() {\r\n\t\t\tthis.currentDate.add(1, \"years\");\r\n\t\t\tthis.initDate(this.currentDate);\r\n\t\t\tthis._closeYearPicker();\r\n\t\t\tthis.$dtpElement.find(\".dtp-actual-year\").removeClass(\"text-white\");\r\n\t\t\tthis.$dtpElement.find(\".dtp-actual-month, .dtp-actual-num, .dtp-actual-day\").removeClass(\"text-white-50\");\r\n\t\t},\r\n\t\trefreshYearItems: function() {\r\n\t\t\tvar curYear = this.currentDate.year(),\r\n\t\t\t\tmidYear = this.midYear;\r\n\t\t\t\t\r\n\t\t\tvar minYear = 1850;\r\n\t\t\t\r\n\t\t\tif (typeof this.minDate !== \"undefined\" && this.minDate !== null) {\r\n\t\t\t\tminYear = moment(this.minDate).year();\r\n\t\t\t}\r\n\t\t\r\n\t\t\tvar maxYear = 2200;\r\n\t\t\t\r\n\t\t\tif (typeof this.maxDate !== \"undefined\" && this.maxDate !== null) {\r\n\t\t\t\tmaxYear = moment(this.maxDate).year();\r\n\t\t\t}\r\n\t\t\r\n\t\t\tthis.$dtpElement.find(\".dtp-picker-year .invisible\").removeClass(\"invisible\");\r\n\t\t\tthis.$dtpElement.find(\".year-picker-item\").each(function(i, el) {\r\n\t\t\t\tvar newYear = midYear - 3 + i;\r\n\t\t\t\t$(el).attr(\"data-year\", newYear).text(newYear).data(\"year\", newYear);\r\n\t\t\t\tif (curYear == newYear) {\r\n\t\t\t\t\t$(el).addClass(\"active\");\r\n\t\t\t\t} else {\r\n\t\t\t\t\t$(el).removeClass(\"active\");\r\n\t\t\t\t}\r\n\t\t\t\tif (newYear < minYear || newYear > maxYear) {\r\n\t\t\t\t\t$(el).addClass(\"invisible\");\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t\tif (minYear >= midYear - 3) {\r\n\t\t\t\tthis.$dtpElement.find(\".dtp-select-year-range.before\").addClass(\"invisible\");\r\n\t\t\t}\r\n\t\t\tif (maxYear <= midYear + 3) {\r\n\t\t\t\tthis.$dtpElement.find(\".dtp-select-year-range.after\").addClass(\"invisible\");\r\n\t\t\t}\r\n\t\t\r\n\t\t\tthis.$dtpElement.find(\".dtp-select-year-range\").data(\"mid\", midYear);\r\n\t\t},\r\n\t\t_onActualYearClick: function() {\r\n\t\t\tif (this.params.year) {\r\n\t\t\t\tif (this.$dtpElement.find(\".dtp-picker-year.d-none\").length > 0) {\r\n\t\t\t\t\tthis.$dtpElement.find(\".dtp-picker-datetime\").addClass(\"d-none\");\r\n\t\t\t\t\tthis.$dtpElement.find(\".dtp-picker-calendar\").addClass(\"d-none\");\r\n\t\t\t\t\tthis.$dtpElement.find(\".dtp-picker-year\").removeClass(\"d-none\");\r\n\t\t\t\t\tthis.$dtpElement.find(\".dtp-actual-year\").addClass(\"text-white\");\r\n\t\t\t\t\tthis.$dtpElement.find(\".dtp-actual-month, .dtp-actual-num, .dtp-actual-day\").addClass(\"text-white-50\");\r\n\t\t\t\t\tthis.midYear = this.currentDate.year();\r\n\t\t\t\t\tthis.refreshYearItems();\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis._closeYearPicker();\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\t\t_onYearRangeBeforeClick: function() {\r\n\t\t\tthis.midYear -= 7;\r\n\t\t\tthis.refreshYearItems();\r\n\t\t},\r\n\t\t_onYearRangeAfterClick: function() {\r\n\t\t\tthis.midYear += 7;\r\n\t\t\tthis.refreshYearItems();\r\n\t\t},\r\n\t\t_onYearItemClick: function(e) {\r\n\t\t\tvar newYear = $(e.currentTarget).data(\"year\"),\r\n\t\t\t\toldYear = this.currentDate.year(),\r\n\t\t\t\tdiff = newYear - oldYear;\r\n\t\t\t\t\r\n\t\t\tthis.currentDate.add(diff, \"years\");\r\n\t\t\tthis.initDate(this.currentDate);\r\n\t\t\tthis.$dtpElement.find(\".dtp-actual-year\").removeClass(\"text-white\");\r\n\t\t\tthis.$dtpElement.find(\".dtp-actual-month, .dtp-actual-num, .dtp-actual-day\").removeClass(\"text-white-50\");\r\n\t\t\tthis._closeYearPicker();\r\n\t\t\tthis.$element.trigger(\"yearSelected\", this.currentDate);\r\n\t\t},\r\n\t\t_closeYearPicker: function() {\r\n\t\t\tthis.$dtpElement.find(\".dtp-picker-calendar\").removeClass(\"d-none\");\r\n\t\t\tthis.$dtpElement.find(\".dtp-picker-year\").addClass(\"d-none\");\r\n\t\t},\r\n\t\tenableYearPicker: function() {\r\n\t\t\tthis.params.year = true;\r\n\t\t\tthis.$dtpElement.find(\".dtp-actual-year\").removeClass(\"disabled\");\r\n\t\t},\r\n\t\tdisableYearPicker: function() {\r\n\t\t\tthis.params.year = false;\r\n\t\t\tthis.$dtpElement.find(\".dtp-actual-year\").addClass(\"disabled\");\r\n\t\t\tthis._closeYearPicker();\r\n\t\t},\r\n\t\t_onSelectDate: function(e) {\r\n\t\t\tthis.$dtpElement.find(\"a.dtp-select-day\").removeClass(\"selected\");\r\n\t\t\t$(e.currentTarget).addClass(\"selected\");\r\n\t\t\r\n\t\t\tthis.selectDate($(e.currentTarget).parent().data(\"date\"));\r\n\t\t\r\n\t\t\tif (this.params.switchOnClick === true && this.params.time === true) {\r\n\t\t\t\tsetTimeout(this.initHours.bind(this), 200);\r\n\t\t\t}\r\n\t\t\r\n\t\t\tif (this.params.switchOnClick === true && this.params.time === false) {\r\n\t\t\t\tsetTimeout(this._onOKClick.bind(this), 200);\r\n\t\t\t}\r\n\t\t},\r\n\t\t_onSelectHour: function(e) {\r\n\t\t\tif (!$(e.target).hasClass(\"disabled\")) {\r\n\t\t\t\tvar value = $(e.target).data(\"hour\"),\r\n\t\t\t\t\tparent = $(e.target).parent(),\r\n\t\t\t\t\th = parent.find(\".dtp-select-hour\"),\r\n\t\t\t\t\tth = parent.find(\".dtp-select-hour-text\");\r\n\t\t\t\t\t\r\n\t\t\t\tfor (var i = 0; i < h.length; i++) {\r\n\t\t\t\t\t$(h[i]).attr(\"fill\", \"transparent\");\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\tfor (var i = 0; i < th.length; i++) {\r\n\t\t\t\t\t$(th[i]).attr(\"fill\", \"var(--black)\");\r\n\t\t\t\t}\r\n\t\t\r\n\t\t\t\t$(parent.find(\"#h-\" + value)).attr(\"fill\", \"var(--primary)\");\r\n\t\t\t\t$(parent.find(\"#th-\" + value)).attr(\"fill\", \"var(--white)\");\r\n\t\t\r\n\t\t\t\tthis.currentDate.hour(parseInt(value));\r\n\t\t\r\n\t\t\t\tif (this.params.shortTime === true && this.isPM()) {\r\n\t\t\t\t\tthis.currentDate.add(12, \"hours\");\r\n\t\t\t\t}\r\n\t\t\r\n\t\t\t\tthis.showTime(this.currentDate);\r\n\t\t\r\n\t\t\t\tthis.animateHands();\r\n\t\t\r\n\t\t\t\tif (this.params.switchOnClick === true) {\r\n\t\t\t\t\tsetTimeout(this.initMinutes.bind(this), 200);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\t\t_onSelectMinute: function(e) {\r\n\t\t\tif (!$(e.target).hasClass(\"disabled\")) {\r\n\t\t\t\tvar value = $(e.target).data(\"minute\"),\r\n\t\t\t\t\tparent = $(e.target).parent(),\r\n\t\t\t\t\tm = parent.find(\".dtp-select-minute\"),\r\n\t\t\t\t\ttm = parent.find(\".dtp-select-minute-text\");\r\n\t\t\t\t\t\r\n\t\t\t\tfor (var i = 0; i < m.length; i++) {\r\n\t\t\t\t\t$(m[i]).attr(\"fill\", \"transparent\");\r\n\t\t\t\t}\r\n\t\t\t\tfor (var i = 0; i < tm.length; i++) {\r\n\t\t\t\t\t$(tm[i]).attr(\"fill\", \"var(--black)\");\r\n\t\t\t\t}\r\n\t\t\r\n\t\t\t\t$(parent.find(\"#m-\" + value)).attr(\"fill\", \"var(--primary)\");\r\n\t\t\t\t$(parent.find(\"#tm-\" + value)).attr(\"fill\", \"var(--white)\");\r\n\t\t\r\n\t\t\t\tthis.currentDate.minute(parseInt(value));\r\n\t\t\t\tthis.showTime(this.currentDate);\r\n\t\t\r\n\t\t\t\tthis.animateHands();\r\n\t\t\r\n\t\t\t\tif (this.params.switchOnClick === true) {\r\n\t\t\t\t\tsetTimeout(function() {\r\n\t\t\t\t\t\tthis.setElementValue();\r\n\t\t\t\t\t\tthis.hide();\r\n\t\t\t\t\t}.bind(this), 200);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\t\t_onSelectAM: function(e) {\r\n\t\t\t$(\".dtp-actual-meridien\").find(\"a\").removeClass(\"selected\");\r\n\t\t\t$(e.currentTarget).addClass(\"selected\");\r\n\t\t\r\n\t\t\tif (this.currentDate.hour() >= 12) {\r\n\t\t\t\tif (this.currentDate.subtract(12, \"hours\")) {\r\n\t\t\t\t\tthis.showTime(this.currentDate);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tthis.toggleTime(this.currentView === 1);\r\n\t\t},\r\n\t\t_onSelectPM: function(e) {\r\n\t\t\t$(\".dtp-actual-meridien\").find(\"a\").removeClass(\"selected\");\r\n\t\t\t$(e.currentTarget).addClass(\"selected\");\r\n\t\t\r\n\t\t\tif (this.currentDate.hour() < 12) {\r\n\t\t\t\tif (this.currentDate.add(12, \"hours\")) this.showTime(this.currentDate);\r\n\t\t\t}\r\n\t\t\tthis.toggleTime(this.currentView === 1);\r\n\t\t},\r\n\t\t_hideCalendar: function() {\r\n\t\t\tthis.$dtpElement.find(\".dtp-picker-calendar\").addClass(\"d-none\");\r\n\t\t},\r\n\t\tconvertHours: function(h) {\r\n\t\t\tvar _return = h;\r\n\t\t\r\n\t\t\tif (this.params.shortTime === true) {\r\n\t\t\t\tif (h < 12 && this.isPM()) {\r\n\t\t\t\t\t_return += 12;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\r\n\t\t\treturn _return;\r\n\t\t},\r\n\t\tsetDate: function(date) {\r\n\t\t\tthis.params.currentDate = date;\r\n\t\t\tthis.initDates();\r\n\t\t},\r\n\t\tsetMinDate: function(date) {\r\n\t\t\tthis.params.minDate = date;\r\n\t\t\tthis.initDates();\r\n\t\t},\r\n\t\tsetMaxDate: function(date) {\r\n\t\t\tthis.params.maxDate = date;\r\n\t\t\tthis.initDates();\r\n\t\t},\r\n\t\tdestroy: function() {\r\n\t\t\tthis._detachEvents();\r\n\t\t\tthis.$dtpElement.remove();\r\n\t\t},\r\n\t\tshow: function() {\r\n\t\t\tthis.$dtpElement.removeClass(\"d-none\");\r\n\t\t\tthis._attachEvent($(window), \"keydown\", this._onKeydown.bind(this));\r\n\t\t\tthis._centerBox();\r\n\t\t\tthis.$element.trigger(\"open\");\r\n\t\t\tif (this.params.monthPicker === true) {\r\n\t\t\t\tthis._hideCalendar();\r\n\t\t\t}\r\n\t\t},\r\n\t\thide: function() {\r\n\t\t\t$(window).off(\"keydown\", null, null, this._onKeydown.bind(this));\r\n\t\t\tthis.$dtpElement.addClass(\"d-none\");\r\n\t\t\tthis.$element.trigger(\"close\");\r\n\t\t},\r\n\t\t_centerBox: function() {\r\n\t\t\tvar h = (this.$dtpElement.height() - this.$dtpElement.find(\".dtp-content\").height()) / 2;\r\n\t\t\tthis.$dtpElement.find(\".dtp-content\").css(\"marginLeft\", -(this.$dtpElement.find(\".dtp-content\").width() / 2) + \"px\");\r\n\t\t\tthis.$dtpElement.find(\".dtp-content\").css(\"top\", h + \"px\");\r\n\t\t},\r\n\t\tenableDays: function() {\r\n\t\t\tvar enableDays = this.params.enableDays;\r\n\t\t\tif (enableDays) {\r\n\t\t\t\t$(\".dtp-picker-days tbody tr td\").each(function() {\r\n\t\t\t\t\tif (!($.inArray($(this).index(), enableDays) >= 0)) {\r\n\t\t\t\t\t\t$(this).find(\"a\").css({background: \"#e3e3e3\", cursor: \"no-drop\", opacity: \"0.5\"}).off(\"click\");\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n}));"],"names":["factory","define","amd","exports","module","require","jQuery","moment","$","Error","pluginName","pluginDataName","Plugin","element","options","this","currentView","minDate","maxDate","_attachedEvents","$element","params","date","time","format","currentDate","lang","weekStart","disabledDays","shortTime","clearButton","nowButton","cancelText","okText","clearText","nowText","switchOnClick","triggerEvent","monthPicker","year","fn","extend","name","setName","attr","locale","init","p","each","data","prototype","initDays","initDates","initTemplate","initButtons","_attachEvent","window","_centerBox","bind","$dtpElement","find","_onElementClick","_onBackgroundClick","_fireCalendar","days","i","length","push","toString","x","val","isValid","getTime","isAfterMinDate","isBeforeMaxDate","yearPicker","y","midYear","template","append","dtpElement","_onCancelClick","_onOKClick","_onMonthBeforeClick","_onMonthAfterClick","_onYearBeforeClick","_onYearAfterClick","_onActualYearClick","_onYearRangeBeforeClick","_onYearRangeAfterClick","_onYearItemClick","_onClearClick","removeClass","_onNowClick","addClass","initMeridienButtons","off","on","_onSelectAM","_onSelectPM","initDate","d","_date","_calendar","generateCalendar","week","_template","constructHTMLCalendar","html","_onSelectDate","toggleButtons","showDate","initHours","showTime","hour","click","hFormat","svgClockElement","createSVGClock","Math","sin","PI","cos","fill","color","svgHourCircle","createSVGElement","id","class","r","cx","cy","data-hour","svgHourText","text-anchor","style","font-weight","font-size","textContent","toggleTime","addEventListener","_onSelectHour","className","setAttribute","appendChild","initMinutes","s","svgMinuteCircle","data-minute","_onSelectMinute","svgMinuteText","animateHands","H","M","minute","hh","mh","isHour","svgMinuteHand","svgHourHand","hl","svgElement","viewBox","svgGElement","transform","svgClockFace","svgClockCenter","x1","y1","x2","y2","stroke","stroke-width","empty","tag","attrs","k","el","document","createElementNS","checkHour","checkMinute","_minDate","_return","second","millisecond","parseInt","checkTime","_maxDate","rotateElement","deg","css","WebkitTransform","-moz-transform","toUpperCase","content","minutes","selectDate","trigger","startOfMonth","startOf","endOfMonth","endOf","iNumDay","iWeek","indexOf","calendar","substring","isoWeekday","text","possible","charAt","floor","random","isPM","hasClass","setElementValue","material","startOfYear","endOfYear","value","isHours","convertHours","ev","_detachEvents","splice","blur","show","e","stopPropagation","hide","_onKeydown","which","_onCloseClick","subtract","_closeYearPicker","add","refreshYearItems","curYear","minYear","maxYear","newYear","currentTarget","oldYear","enableYearPicker","disableYearPicker","parent","setTimeout","target","h","th","m","tm","_hideCalendar","setDate","setMinDate","setMaxDate","destroy","remove","height","width","enableDays","inArray","index","background","cursor","opacity"],"mappings":"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"}